{% extends 'main.html' %}
{% block content %}

<div class="header-bar">
    <div>
        <h1>Groups</h1>
        <!-- <h3 style="margin:0"> You have <i>{{count}}</i> incomplete task{{ count|pluralize:"s" }}</h3> -->
    </div>

    <a class="invite-list-link" href="{% url 'invite-list' %}"><span>Invites</span> <i class="icon">&#8592;</i></a>

    <!-- <button class="last-visited-url-btn">Go Back</button>  -->
    <!-- 

    {% if request.user.is_authenticated %}
    <a href="{% url 'logout' %}">Logout</a>
    {% else %}
    <a href="{% url 'login' %}">Login</a>
    {% endif %} -->
    
</div>

<div class="group-container">
    <div class="own-groups">
        <div class="text"> 
            <h3>My Groups:</h3>

            <a class="button" href="{% url 'group-create' %}"> Create Group </a>
        </div>
        <div id="search-add-wrapper">
            <input type="text" name="search-area" id="search-my-groups" value="{{search_query}}" placeholder="Search groups">
        </div>

        <div class="group-list">
            {% for group in user_groups %}
                <div class="group-wrapper">
                    <div class="group-title">
                        <!-- <div class="group-complete-icon"></div> -->
                        <h3><a href="{% url 'group-detail' group.id %}">{{ group.name }}</a></h3>
                        <h2>Leader: <a href="{% url 'profile' group.leader.id %}">{{group.leader.username}}</a></h2>
                        <h2>Number of participants: {{group.participants.all.count}}</h2>
                    </div>
                    {% if request.user == group.leader %}
                    <div class="delete-space">
                        <a class="delete-link" href="{% url 'group-delete' group.id %}">&#215;</a>
                    </div>
                    {% endif %}
                    
                    
                
                </div>
            {% empty %}
                <h3 class="empty">User don't belong to any group at the moment</h3>
            {% endfor %}
        </div>

    </div>

    <!-- <div class="group-search">
        <div class="text">
            <h3>Search Groups:</h3>

        </div>
        <div id="search-add-wrapper">
            <input type="text" name="search-area" id="search-groups" value="{{search_query}}" placeholder="Search groups">
        </div>

        <div class="search">

        </div>


    </div> -->

</div>
{% endblock content %}