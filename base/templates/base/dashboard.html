{% extends 'main.html' %}
{% block content %}

<div class="header-bar">
    <div>
        <h1>Dashboard</h1>
        <!-- <h3 style="margin:0"> You have <i>{{count}}</i> incomplete task{{ count|pluralize:"s" }}</h3> -->
    </div>

    <!-- <button class="last-visited-url-btn">Go Back</button>  -->
    <!-- 

    {% if request.user.is_authenticated %}
    <a href="{% url 'logout' %}">Logout</a>
    {% else %}
    <a href="{% url 'login' %}">Login</a>
    {% endif %} -->

</div>

<div class="dashboard-container">



    <div class="tasks-counter-container">

        <div class="tasks-counter all">

            <h5>{{ all_tasks_number }}</h5>

        </div>

        <h5> All Tasks</h5>

    </div>

    <div class="tasks-counter-container">

        <div class="tasks-counter overdue">

            <h5>{{ overdue_tasks_number }}</h5>

        </div>

        <h5> Overdue Tasks</h5>

    </div>

    <div class="tasks-counter-container">

        <div class="tasks-counter pending">

            <h5>{{ pending_tasks_number }}</h5>

        </div>

        <h5> Pending Tasks</h5>

    </div>

    <div class="tasks-counter-container">

        <div class="tasks-counter completed">

            <h5>{{ completed_tasks_number }}</h5>

        </div>

        <h5> Completed Tasks</h5>

    </div>

    <div class="tasks-counter-container">

        <div class="tasks-counter group">

            <h5>{{ group_tasks_number }}</h5>

        </div>

        <h5> Group Tasks</h5>

    </div>


</div>


<div id="search-add-wrapper">
    <input type="text" name="search-area" id="search-tasks" value="{{search_query}}" placeholder="Search tasks">
    <div class="group-task-filter">
        <h5>Group Task Filter: </h5>
        <select name="filter" id="group-task-filter">
            <option value="all"> All</option>
            <option value="pending"> Pending</option>
            <option value="initiated"> Initiated</option>
            <option value="finished"> Finished</option>
            <option value="overdue"> Overdue</option>
            <option value="need adjustments"> Need Adjustments</option>
            <option value="verified"> Verified</option>
        </select>
    </div>
    <a id="add-link" href="{% url 'task-create' 1 %}">&#43;</a>
</div>





<div class="task-items-wrapper all action">
    {% for task in all_tasks %}
    {% if task.status == 'pending' %}
    <div class="task-wrapper pending">
        {% include 'task_list_code.html' %}
    </div>
    {% elif task.status == 'overdue' %}
    <div class="task-wrapper overdue">
        {% include 'task_list_code.html' %}
    </div>
    {% elif task.status == 'completed' %}
    <div class="task-wrapper completed">
        {% include 'task_list_code.html' %}
    </div>
    {% endif %}
    {% empty %}
    <h3 class="empty-big">No items in list</h3>
    {% endfor %}
</div>

<div class="task-items-wrapper overdue">
    {% for task in overdue_tasks %}
    <div class="task-wrapper overdue">
        {% include 'task_list_code.html' %}
    </div>
    {% empty %}
    <h3 class="empty-big">No items in list</h3>
    {% endfor %}
</div>

<div class="task-items-wrapper pending">
    {% for task in pending_tasks %}
    <div class="task-wrapper pending">
        {% include 'task_list_code.html' %}
    </div>
    {% empty %}
    <h3 class="empty-big">No items in list</h3>
    {% endfor %}
</div>

<div class="task-items-wrapper completed">
    {% for task in completed_tasks %}
    <div class="task-wrapper completed">
        {% include 'task_list_code.html' %}
    </div>
    {% empty %}
    <h3 class="empty-big">No items in list</h3>
    {% endfor %}
</div>

<div class="task-items-wrapper group">
    <div class="task-header">
        <h1>Group tasks related to you:</h1>
    </div>
    {% for task in group_tasks %}
    <div class="task-wrapper group">
        {% include 'task_list_code_group.html' %}
    </div>
    {% empty %}
    <h3 class="empty">There aren't any tasks yet</h3>
    {% endfor %}

</div>

{% endblock content %}