{% extends 'main.html' %}
{% block content %}

<div class="header-bar">

    <a id="go-back">&#8592; Back</a>
    <div class="title">
        <h1 class="title">Invites</h1>
        <!-- <h3 style="margin:0"> You have <i>{{count}}</i> incomplete task{{ count|pluralize:"s" }}</h3> -->
    </div>

</div>

<div class="invite-container">
    <div class="own-invites">
        <div class="text">
            <h3>Sent Invites:</h3>
        </div>

        <div class="invite-list">
            {% for invite in sent_invites %}

            {% if invite.accepted %}
            <div class="invite-wrapper accepted">

                <div class="invite">
                    <a href="{% url 'invite-detail' invite.id %}">
                        <h1>Invite</h1>
                    </a>
                    <h3>Group Name: <a href="{% url 'group-detail' invite.group.id %}">{{ invite.group.name }}</a></h3>
                    <h3>Invited user: <a href="{% url 'profile' invite.invited_user.id %}">{{ invite.invited_user }}</a>
                    </h3>
                    <h3>Status: Accepted</h3>
                </div>

            </div>
            {% elif invite.rejected %}
            <div class="invite-wrapper rejected">

                <div class="invite">
                    <a href="{% url 'invite-detail' invite.id %}">
                        <h1>Invite</h1>
                    </a>
                    <h3>Group Name: <a href="{% url 'group-detail' invite.group.id %}">{{ invite.group.name }}</a></h3>
                    <h3>Invited user: <a href="{% url 'profile' invite.invited_user.id %}">{{ invite.invited_user }}</a>
                    </h3>
                    <h3>Status: Rejected</h3>
                </div>

            </div>

            {% else %}
            <div class="invite-wrapper pending">

                <div class="invite">
                    <a href="{% url 'invite-detail' invite.id %}">
                        <h1>Invite</h1>
                    </a>
                    <h3>Group Name: <a href="{% url 'group-detail' invite.group.id %}">{{ invite.group.name }}</a></h3>
                    <h3>Invited user: <a href="{% url 'profile' invite.invited_user.id %}">{{ invite.invited_user }}</a>
                    </h3>
                    <h3>Status: Pending</h3>
                </div>

            </div>
            {% endif %}
            {% empty %}
            <h3 class="empty">No invites at the moment</h3>
            {% endfor %}
        </div>

    </div>

    <div class="own-invites">
        <div class="text">
            <h3>Received Invites:</h3>
        </div>

        <div class="invite-list">
            {% for invite in obtained_invites %}
            <div class="invite-wrapper pending">

                <div class="invite">
                    <a href="{% url 'invite-detail' invite.id %}">
                        <h1>Invite</h1>
                    </a>
                    <h3>Group Name: <a href="{% url 'group-detail' invite.group.id %}">{{ invite.group.name }}</a></h3>
                    <h3>Invited by the user: <a
                            href="{% url 'profile' invite.inviting_user.id %}">{{invite.inviting_user}}</a></h3>
                    <h3>Status: Pending</h3>
                </div>

            </div>
            {% empty %}
            <h3 class="empty">No invites at the moment</h3>
            {% endfor %}
        </div>

    </div>

</div>
{% endblock content %}